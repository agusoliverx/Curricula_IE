<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Malla Ingeniería Eléctrica - Perfil Biomédica</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f4f7fa;
      margin: 0;
      padding: 20px;
    }

    h1 {
      text-align: center;
      color: #2c3e50;
      margin-bottom: 40px;
    }

    .grid-container {
      display: grid;
      grid-template-columns: repeat(10, 1fr);
      gap: 20px;
      overflow-x: auto;
    }

    .semester-column {
      background: #ffffff;
      border-radius: 12px;
      padding: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }

    .semester-title {
      text-align: center;
      font-weight: bold;
      background-color: #2c3e50;
      color: white;
      padding: 8px;
      border-radius: 8px;
      margin-bottom: 12px;
    }

    .course-box {
      background-color: #e8f0fe;
      border-left: 5px solid #4285f4;
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 8px;
      font-size: 0.95rem;
      color: #2c3e50;
      cursor: pointer;
      position: relative;
      transition: background-color 0.3s;
    }

    .course-box.completed {
      background-color: #d0f0c0;
      border-left-color: #2e7d32;
      color: #2e7d32;
    }

    .course-box.in-progress {
      background-color: #fff3b0;
      border-left-color: #b38600;
      color: #b38600;
    }

    .course-box:hover::after {
      content: attr(data-previas);
      position: absolute;
      top: 100%;
      left: 50%;
      transform: translateX(-50%);
      background: #2c3e50;
      color: #fff;
      padding: 6px 10px;
      font-size: 0.8rem;
      white-space: nowrap;
      border-radius: 6px;
      margin-top: 6px;
      z-index: 10;
    }
  </style>
</head>
<body>
  <h1>Malla Curricular - Ing. Eléctrica (Perfil Biomédica)</h1>

  <div class="grid-container" id="malla-grid"></div>

  <script>
    const malla = {
      1: [
        "Cálculo dif. e integral en una variable",
        "GAL 1",
        "Física 1",
      ],
      2: [
        "Cálculo dif. e integral en varias variables",
        "GAL 2",
        "Física 2",
        "Programación 1",
      ],
      3: [
        "Cálculo Vectorial",
        "Probabilidad y Estadística",
        "Física 3",
        "Mecánica Newtoniana",
        "Física Experimental 1",
      ],
      4: [
        "Ecuaciones Diferenciales",
        "Electromagnetismo",
        "Física Experimental 2",
        "Teoría de Circuitos",
        "Diseño Lógico",
      ],
      5: [
        "Funciones de Variable Compleja (Nueva)",
        "Señales y Sistemas",
        "Intro. a los microprocesadores",
        "Programación para Ingeniería Eléctrica",
        "Electrónica Fundamental",
      ],
      6: [
        "Métodos numéricos",
        "Sistemas y Control",
        "Taller Fourier",
        "Señales aleatorias y Modulación",
        "Opcional Ingeniería Eléctrica",
      ],
      7: [
        "Medidas Eléctricas",
        "Opcional Ingeniería Eléctrica",
        "Opcional Básica",
        "Opcional Ingeniería Biológica",
        "Estimación y predicción en series temporales",
      ],
      8: [
        "Pasantía",
        "Redes de Datos I",
        "Ingeniería Biomédica",
        "AIMDs",
        "Opcional Ingeniería Eléctrica",
      ],
      9: [
        "Proyecto",
        "Opcional Ing. Industrial",
        "Opcional Ingeniería Biológica",
        "Electrotecnia",
      ],
      10: [
        "Proyecto",
        "Legislación y relaciones industriales",
        "Opc. Ingeniería y sociedad",
        "Economía",
        "Instalaciones Eléctricas",
      ],
    };

    const previas = {
      "Cálculo dif. e integral en una variable": [],
      "GAL 1": [],
      "Física 1": [],
      "Cálculo dif. e integral en varias variables": ["Cálculo dif. e integral en una variable"],
      "GAL 2": ["GAL 1"],
      "Física 2": ["Cálculo dif. e integral en una variable", "Física 1"],
      "Programación 1": [],
      "Cálculo Vectorial": [
        "Cálculo dif. e integral en varias variables",
        "Cálculo dif. e integral en una variable",
        "GAL 1"
      ],
      "Probabilidad y Estadística": [
        "Cálculo dif. e integral en una variable",
        "Cálculo dif. e integral en varias variables",
        "GAL 1"
      ],
      "Física 3": ["Cálculo dif. e integral en una variable"],
      "Mecánica Newtoniana": [
        "Física 1",
        "Cálculo dif. e integral en varias variables",
        "Física 2 o Física 3",
        "Cálculo dif. e integral en una variable"
      ],
      "Física Experimental 1": ["Física 1"],
      "Ecuaciones Diferenciales": [
        "Cálculo dif. e integral en una variable",
        "Cálculo dif. e integral en varias variables",
        "GAL 1",
        "GAL 2"
      ],
      "Electromagnetismo": [
        "GAL 1",
        "GAL 2",
        "Cálculo dif. e integral en una variable",
        "Cálculo dif. e integral en varias variables",
        "Cálculo Vectorial"
      ],
      "Física Experimental 2": ["Física Experimental 1", "Física 3"],
      "Teoría de Circuitos": [
        "Física 1",
        "Física 3",
        "Cálculo dif. e integral en una variable",
        "Cálculo dif. e integral en varias variables",
        "GAL 1"
      ],
      "Diseño Lógico": []
    };

    const container = document.getElementById("malla-grid");

    for (let semestre = 1; semestre <= 10; semestre++) {
      const column = document.createElement("div");
      column.className = "semester-column";

      const title = document.createElement("div");
      title.className = "semester-title";
      title.textContent = `${semestre}º Sem`;
      column.appendChild(title);

      malla[semestre]?.forEach(curso => {
        const box = document.createElement("div");
        box.className = "course-box";
        box.textContent = curso;

        const pre = previas[curso] || [];
        box.setAttribute("data-previas", pre.length ? `Previas: ${pre.join(", ")}` : "Previas: Ninguna");

        box.addEventListener("click", () => {
          if (box.classList.contains("completed")) {
            box.classList.remove("completed");
            box.classList.add("in-progress");
          } else if (box.classList.contains("in-progress")) {
            box.classList.remove("in-progress");
          } else {
            box.classList.add("completed");
          }
        });

        column.appendChild(box);
      });

      container.appendChild(column);
    }
  </script>
</body>
</html>
